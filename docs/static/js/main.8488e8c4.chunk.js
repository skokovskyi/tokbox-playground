(this["webpackJsonptokbox-playground"]=this["webpackJsonptokbox-playground"]||[]).push([[0],{26:function(e,a,t){e.exports=t.p+"static/media/logo.cd18bdec.svg"},29:function(e,a,t){e.exports=t(61)},34:function(e,a,t){},5:function(e){e.exports=JSON.parse('{"apiKey":"YOUR_API_KEY","sessionId":"YOUR_SESSION_ID","token":"YOUR_TOKEN"}')},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n,l=t(0),s=t.n(l),c=t(21),i=t.n(c),r=(t(34),t(22)),o=t(23),d=t(3),u=t(27),b=t(28),m=t(24),h=t.n(m),C=t(2),v=t.n(C),p=t(25),E=t.n(p),g=t(26),S=t.n(g),f=t(5),k=(t(60),{credentials:{apiKey:f.apiKey,sessionId:f.sessionId,token:f.token},streamContainers:function(e,a,t,n){return{publisher:{camera:"#cameraPublisherContainer",screen:"#screenPublisherContainer"},subscriber:{camera:"#cameraSubscriberContainer",screen:"#screenSubscriberContainer"}}[e][a]},controlsContainer:"#controls",packages:[],communication:{callProperties:null}}),A=function(e){Object(b.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={connected:!1,active:!1,publishers:null,subscribers:null,meta:null,localAudioEnabled:!0,localVideoEnabled:!0},n.startCall=n.startCall.bind(Object(d.a)(n)),n.endCall=n.endCall.bind(Object(d.a)(n)),n.toggleLocalAudio=n.toggleLocalAudio.bind(Object(d.a)(n)),n.toggleLocalVideo=n.toggleLocalVideo.bind(Object(d.a)(n)),n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;(n=new E.a(k)).connect().then((function(){return e.setState({connected:!0})}));["subscribeToCamera","unsubscribeFromCamera","subscribeToScreen","unsubscribeFromScreen","startScreenShare","endScreenShare"].forEach((function(a){return n.on(a,(function(a){var t=a.publishers,n=a.subscribers,l=a.meta;e.setState({publishers:t,subscribers:n,meta:l})}))}))}},{key:"startCall",value:function(){var e=this;n.startCall().then((function(a){var t=a.publishers,n=a.subscribers,l=a.meta;e.setState({publishers:t,subscribers:n,meta:l,active:!0})})).catch((function(e){return console.log(e)}))}},{key:"endCall",value:function(){n.endCall(),this.setState({active:!1})}},{key:"toggleLocalAudio",value:function(){n.toggleLocalAudio(!this.state.localAudioEnabled),this.setState({localAudioEnabled:!this.state.localAudioEnabled})}},{key:"toggleLocalVideo",value:function(){n.toggleLocalVideo(!this.state.localVideoEnabled),this.setState({localVideoEnabled:!this.state.localVideoEnabled})}},{key:"render",value:function(){var e,a=this.state,t=a.connected,n=a.active,l=function(e){var a=e.active,t=e.meta,n=e.localAudioEnabled,l=e.localVideoEnabled,s=!!t&&!!t.publisher.screen,c=!!t&&t.subscriber.screen,i=t?t.subscriber.camera:0,r=i>2,o=i%2,d=c||s;return{controlClass:v()("App-control-container",{hidden:!a}),localAudioClass:v()("ots-video-control circle audio",{hidden:!a,muted:!n}),localVideoClass:v()("ots-video-control circle video",{hidden:!a,muted:!l}),localCallClass:v()("ots-video-control circle end-call",{hidden:!a}),cameraPublisherClass:v()("video-container",{hidden:!a,small:!!i||d,left:d}),screenPublisherClass:v()("video-container",{hidden:!a||!s}),cameraSubscriberClass:v()("video-container",{hidden:!a||!i},{"active-gt2":r&&!d},{"active-odd":o&&!d},{small:d}),screenSubscriberClass:v()("video-container",{hidden:!c||!a})}}(this.state),c=l.localAudioClass,i=l.localVideoClass,r=l.localCallClass,o=l.controlClass,d=l.cameraPublisherClass,u=l.screenPublisherClass,b=l.cameraSubscriberClass,m=l.screenSubscriberClass;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-header"},s.a.createElement("img",{src:S.a,className:"App-logo",alt:"logo"}),s.a.createElement("h1",null,"OpenTok Accelerator Core")),s.a.createElement("div",{className:"App-main"},s.a.createElement("div",{className:"App-video-container"},!t&&s.a.createElement("div",{className:"App-mask"},s.a.createElement(h.a,null),s.a.createElement("div",{className:"message with-spinner"},"Connecting")),t&&!n&&(e=this.startCall,s.a.createElement("div",{className:"App-mask"},s.a.createElement("button",{className:"message button clickable",onClick:e},"Click to Start Call "))),s.a.createElement("div",{id:"cameraPublisherContainer",className:d}),s.a.createElement("div",{id:"screenPublisherContainer",className:u}),s.a.createElement("div",{id:"cameraSubscriberContainer",className:b}),s.a.createElement("div",{id:"screenSubscriberContainer",className:m})),s.a.createElement("div",{id:"controls",className:o},s.a.createElement("div",{className:c,onClick:this.toggleLocalAudio}),s.a.createElement("div",{className:i,onClick:this.toggleLocalVideo}),s.a.createElement("div",{className:r,onClick:this.endCall})),s.a.createElement("div",{id:"chat",className:"App-chat-container"})))}}]),t}(l.Component);i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(A,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.8488e8c4.chunk.js.map