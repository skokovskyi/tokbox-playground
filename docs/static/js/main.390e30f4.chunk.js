(this["webpackJsonptokbox-playground"]=this["webpackJsonptokbox-playground"]||[]).push([[0],{28:function(e,a,t){e.exports=t.p+"static/media/logo.cd18bdec.svg"},31:function(e,a,t){e.exports=t(68)},36:function(e,a,t){},37:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var n,l=t(0),s=t.n(l),c=t(24),i=t.n(c),o=(t(36),t(25)),r=t(26),d=t(3),u=t(29),b=t(30),m=t(27),h=t.n(m),p=t(2),v=t.n(p),C=t(28),g=t.n(C),E=t(7),k=(t(37),t(38)),N={credentials:{apiKey:E.apiKey,sessionId:E.sessionId,token:E.token},streamContainers:function(e,a,t,n){return{publisher:{camera:"#cameraPublisherContainer",screen:"#screenPublisherContainer"},subscriber:{camera:"#cameraSubscriberContainer",screen:"#screenSubscriberContainer"}}[e][a]},controlsContainer:"#controls",packages:["textChat","screenSharing","annotation"],communication:{callProperties:null},textChat:{name:["David","Paul","Emma","George","Amanda"][5*Math.random()|0],waitingMessage:"Messages will be delivered when other users arrive",container:"#chat"},screenSharing:{extensionID:"plocfffmbcclpdifaikiikgplfnepkpo",annotation:!0,externalWindow:!1,dev:!0,screenProperties:{insertMode:"append",width:"100%",height:"100%",showControls:!1,style:{buttonDisplayMode:"off"},videoSource:"window",fitMode:"contain"}},annotation:{absoluteParent:{publisher:".App-video-container",subscriber:".App-video-container"}}},M=function(e){Object(b.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={connected:!1,active:!1,publishers:null,subscribers:null,meta:null,localAudioEnabled:!0,localVideoEnabled:!0},n.startCall=n.startCall.bind(Object(d.a)(n)),n.endCall=n.endCall.bind(Object(d.a)(n)),n.toggleLocalAudio=n.toggleLocalAudio.bind(Object(d.a)(n)),n.toggleLocalVideo=n.toggleLocalVideo.bind(Object(d.a)(n)),n}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;(n=new k(N)).connect().then((function(){return e.setState({connected:!0})}));["subscribeToCamera","unsubscribeFromCamera","subscribeToScreen","unsubscribeFromScreen","startScreenShare","endScreenShare"].forEach((function(a){return n.on(a,(function(a){var t=a.publishers,n=a.subscribers,l=a.meta;e.setState({publishers:t,subscribers:n,meta:l})}))}))}},{key:"startCall",value:function(){var e=this;n.startCall().then((function(a){var t=a.publishers,n=a.subscribers,l=a.meta;e.setState({publishers:t,subscribers:n,meta:l,active:!0})})).catch((function(e){return console.log(e)}))}},{key:"endCall",value:function(){n.endCall(),this.setState({active:!1})}},{key:"toggleLocalAudio",value:function(){n.toggleLocalAudio(!this.state.localAudioEnabled),this.setState({localAudioEnabled:!this.state.localAudioEnabled})}},{key:"toggleLocalVideo",value:function(){n.toggleLocalVideo(!this.state.localVideoEnabled),this.setState({localVideoEnabled:!this.state.localVideoEnabled})}},{key:"render",value:function(){var e,a=this.state,t=a.connected,n=a.active,l=function(e){var a=e.active,t=e.meta,n=e.localAudioEnabled,l=e.localVideoEnabled,s=!!t&&!!t.publisher.screen,c=!!t&&t.subscriber.screen,i=t?t.subscriber.camera:0,o=i>2,r=i%2,d=c||s;return{controlClass:v()("App-control-container",{hidden:!a}),localAudioClass:v()("ots-video-control circle audio",{hidden:!a,muted:!n}),localVideoClass:v()("ots-video-control circle video",{hidden:!a,muted:!l}),localCallClass:v()("ots-video-control circle end-call",{hidden:!a}),cameraPublisherClass:v()("video-container",{hidden:!a,small:!!i||d,left:d}),screenPublisherClass:v()("video-container",{hidden:!a||!s}),cameraSubscriberClass:v()("video-container",{hidden:!a||!i},{"active-gt2":o&&!d},{"active-odd":r&&!d},{small:d}),screenSubscriberClass:v()("video-container",{hidden:!c||!a})}}(this.state),c=l.localAudioClass,i=l.localVideoClass,o=l.localCallClass,r=l.controlClass,d=l.cameraPublisherClass,u=l.screenPublisherClass,b=l.cameraSubscriberClass,m=l.screenSubscriberClass;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-header"},s.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"}),s.a.createElement("h1",null,"OpenTok Accelerator Core")),s.a.createElement("div",{className:"App-main"},s.a.createElement("div",{className:"App-video-container"},!t&&s.a.createElement("div",{className:"App-mask"},s.a.createElement(h.a,null),s.a.createElement("div",{className:"message with-spinner"},"Connecting")),t&&!n&&(e=this.startCall,s.a.createElement("div",{className:"App-mask"},s.a.createElement("button",{className:"message button clickable",onClick:e},"Click to Start Call "))),s.a.createElement("div",{id:"cameraPublisherContainer",className:d}),s.a.createElement("div",{id:"screenPublisherContainer",className:u}),s.a.createElement("div",{id:"cameraSubscriberContainer",className:b}),s.a.createElement("div",{id:"screenSubscriberContainer",className:m})),s.a.createElement("div",{id:"controls",className:r},s.a.createElement("div",{className:c,onClick:this.toggleLocalAudio}),s.a.createElement("div",{className:i,onClick:this.toggleLocalVideo}),s.a.createElement("div",{className:o,onClick:this.endCall})),s.a.createElement("div",{id:"chat",className:"App-chat-container"})))}}]),t}(l.Component);i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(M,null)),document.getElementById("root"))},7:function(e){e.exports=JSON.parse('{"apiKey":"45828062","sessionId":"1_MX40NTgyODA2Mn5-MTU5MjM5MTQxNTYyMn5jSWdrR1hQRHhUYlR1ZEFrZG53cGJxQkJ-UH4","token":"T1==cGFydG5lcl9pZD00NTgyODA2MiZzaWc9YWM0ZmJhMWY3MzkzM2FhMzhjMjFkNmJkNThkMTc5NjI1NThhNjZiYjpzZXNzaW9uX2lkPTFfTVg0ME5UZ3lPREEyTW41LU1UVTVNak01TVRReE5UWXlNbjVqU1dkclIxaFFSSGhVWWxSMVpFRnJaRzUzY0dKeFFrSi1VSDQmY3JlYXRlX3RpbWU9MTU5MjM5MTQ0NyZub25jZT0wLjYzMTgwMTYzNjQ3OTkzMjQmcm9sZT1wdWJsaXNoZXImZXhwaXJlX3RpbWU9MTU5MjQ3Nzg0Nw=="}')}},[[31,1,2]]]);
//# sourceMappingURL=main.390e30f4.chunk.js.map